CREATE DATABASE Homework;
USE Homework;

CREATE TABLE `groups` (
 `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
 `name` VARCHAR(255) NOT NULL,
 `count` INT UNSIGNED,
 PRIMARY KEY(`id`)
)ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4;

CREATE TABLE `users` (
 `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
 `groupid` INT UNSIGNED NOT NULL,
 `login` VARCHAR(255) NOT NULL,
 `bday` DATE,
 PRIMARY KEY(`id`),
 UNIQUE KEY(`login`),
 FOREIGN KEY(`groupid`) REFERENCES `groups`(`id`)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4;

CREATE TABLE `user_preferences` (
 `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
 `user_id` INT UNSIGNED NOT NULL,
 `preference_name` VARCHAR(255) NOT NULL,
 `preference_value` VARCHAR(255),
 PRIMARY KEY(`id`),
 FOREIGN KEY(`user_id`) REFERENCES `users`(`id`)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4;
